source 'https://rubygems.org'

ruby '2.3.6'

gem 'rails', '4.1.16'

# MySQL
# Mysql 0.4.x requires Rails update
gem 'mysql2', '0.3.20'

# Elasticsearch client
gem 'elasticsearch', '~> 2.0.2'

# Authentication library
gem 'devise', '3.5.10'

# Easy-to-setup Rails administration
gem 'rails_admin', '1.1.1'

# Basic localizations for most languages
gem 'rails-i18n', '~> 4.0.8'

# All sorts of monitoring
gem 'dogstatsd-ruby', '~> 1.5.0'

# mini replacement for RMagick
gem 'mini_magick', '~> 3.7.0'

# XLSX reader. It's in the name!
gem 'simple_xlsx_reader', '1.0.2'

# Geospatial data types
gem 'rgeo', '0.6.0'

# GeoJSON extensions for RGeo
gem 'rgeo-geojson', '0.4.3'

# Encrypted model attributes
gem 'attr_encrypted', '3.0.3'

# Application timeout
gem "rack-timeout"

# ---- APIs -------------------------------------------------------------------

# OAuth lib (APIs)
gem 'oauth', '0.4.7'
gem 'oauth2', '1.4.0'

# Auth0 API
gem 'auth0', '4.1.0'

# Google Oauth
gem 'omniauth-google-oauth2', '0.5.3'

# Google API client
gem 'google-api-client', '~> 0.9.2', require: false

# Vimeo API
gem 'vimeo', '~> 1.5.4'

# Facebook Graph API
gem 'koala', '1.11.1'

# Mailchimp API
gem 'hominid-wout', '~> 3.0.6', require: false

# Twitter API
gem 'twitter', git: 'https://github.com/borc/twitter.git', ref: 'c73f8c4'

# Twitter Streaming API
gem 'tweetstream', '2.6.1'

# Instagram API
gem 'instagram', '1.1.6'

# HTTParty for raw http-requests
gem 'httparty', '0.14.0'

# Faraday for HTTP requests
gem 'faraday', '0.9.2'
gem 'faraday_middleware', '0.9.2'

# Wordpress XML-RPC API helper
gem 'rubypress', git: 'https://github.com/borc/rubypress.git'

# Google reCaptcha
gem 'recaptcha', '4.6.4', require: 'recaptcha/rails'

# Google+ API
gem "google_plus", "0.2.4"

# LinkedIn API
gem 'linkedin-oauth2', '1.0.0'

# Wufoo API wrapper
gem 'wuparty', '1.2.7'

# Amazon Product advertising API
gem 'amazon-ecs', '2.5.0'

# A client for the unofficial Vine API.
# A version that allows connecting to the API without using credentials (only some endpoints)
gem 'redvine', git: 'https://github.com/avokhmin/redvine.git', ref: '6c8cb535b632fd9ebad8950f9ea68cc9f02e6537'

# Yammer API gem
gem 'yam', '2.5.0'

# SoundCloud API gem
gem 'soundcloud', '0.3.4'

# ---- /end APIs --------------------------------------------------------------

# HTML sanitizer
gem 'sanitize', '2.1.0'

# Useful extensions to Ruby's String
gem 'stringex', '2.8.2'

# Authorization and authentication
gem 'cancancan', '1.15.0'

# curl wrapper
gem 'curb', '0.9.4'

# Markup (HTML/XML) parsing, manipulation and sanitization
gem 'nokogiri', '1.8.2'

gem 'feedjira', '2.1.2'
gem 'sax-machine', '~> 1.3.1'

# File uploading https://github.com/blueimp/jQuery-File-Upload/wiki/Options
gem 'jquery-fileupload-rails', '~> 0.3.4'

# Themes for rails with Rails 4+ support
gem 'themes_for_rails', git: 'https://github.com/peritpatrio/themes_for_rails.git', ref: '638a918'

# GA Stats
gem 'garb', git: 'https://github.com/Sija/garb.git', ref: '72ce3c61'

# Caching
gem 'redis', '3.3.1'
gem 'redis-rails', '~> 4.0'

# Parse and linkify tweets
gem 'twitter-text', '2.1.0'

# Truncate HTML strings http://rubygems.org/gems/html_truncator
gem 'html_truncator', '0.4.2'

# FastImage finds the size or type of an image given its uri by fetching as little as needed
gem 'fastimage', '2.1.1'

# VideoInfo shows info for different video providers
gem 'video_info', '2.7.0'

# Receive emails
gem 'mailman', '0.7.3'

# Auto link text links
gem 'rinku', '2.0.4'

# Improve typography
gem 'typogruby', '1.0.18'

# Automatically strips all attributes of leading and trailing whitespace before validation
gem 'strip_attributes', '1.8.0'

# Awesome JSON builder for APIs
gem 'jbuilder', '1.5.0'

# Extends ActiveRecord to add simple support for organizing items into parentâ€“children relationships.
gem 'acts_as_tree', '2.7.1'

# Helps with turning hashes into easily accessible with dot notation
gem 'recursive-open-struct', '1.0.5'

# For parsing OpenGraph data from url
gem 'opengraph_parser', git: 'https://github.com/tophattom/opengraph_parser.git', ref: '2c4037e'

# Helper to get an HTML select list of countries using the ISO 3166-1 standard.
gem 'country_select', '~> 2.0.0'

# Simple, efficient background processing for Ruby.
gem 'sidekiq', '4.2.9'

# Needed for sidekiq to work properly (no idea why this is not in sidekiq gemspec)
gem 'redis-namespace', '1.5.2'

gem 'sidekiq-status', '~> 0.5.4'

# Rate-limit creation of jobs
gem 'sidekiq-debounce', '1.0.2'

# Control uniqueness of jobs
gem 'sidekiq-unique-jobs', '5.0.10'

# allows for calling "render" from anywhere
gem 'render_anywhere', '0.0.10', require: false

# This plugin uses the conductor pattern to wrap multiple models as one object.
# It's basically like the Presenter pattern, but for saving and creating multiple models.
gem 'active_conductor', '0.2.2'

# allows for custom tagging along dynamic contexts
gem 'acts-as-taggable-on', git: 'https://github.com/peritpatrio/acts-as-taggable-on', ref: '6094e3e87f52983b132a5897b3a29049d7622421'

# IP throttle
gem 'rack-attack', '5.0.1'

# Code highlighter
gem 'coderay', '1.1.2'

# Excel sheet generation
gem 'axlsx_rails', '~> 0.5.1'
# axlsx: fix rubyzip relative path vulnerability
gem 'axlsx', git: 'https://github.com/randym/axlsx.git', ref: '5a8a685c5acf91fb40c4e42b18de61dbbbd18f57'

# Faster .blank? for strings
gem 'fast_blank', '1.0.0'

# Cross-process remote locking (mutexes)
gem 'remote_lock', '~> 1.1.0'

# Rack::UTF8Sanitizer is a Rack middleware which cleans up invalid UTF8 characters in request URI and headers.
gem 'rack-utf8_sanitizer', '1.4.0'

# A list of languages based upon ISO-639-1 and ISO-639-3
gem 'language_list', '1.2.1'

# Contains CLDR data
gem 'twitter_cldr', '4.2.0'

# Country data
gem 'countries', '0.9.3'

# Replacement for URI
gem 'addressable', '2.5.2'

gem 'savon', '~> 2.12.0'

# For deep-converting hash keys from CamelCase to snake_case
gem 'plissken', '0.2.0'

# For deep-converting hash keys from snake_case to camelCase
gem 'awrence', '1.0.0'

# Intercom (https://www.intercom.io) is a customer relationship management and messaging tool for web app owners.
gem 'intercom', '3.5.23'
gem 'intercom-rails', '0.3.8'

# Stripe Payment Integration
gem 'stripe', '3.3.2'

# Validate VAT ID
gem 'valvat', '~> 0.7.1'

# PDF generation
gem 'prawn', '2.2.2', require: false
gem 'prawn-svg', '0.27.1', require: false

# Wrapper for pusher.com REST api
gem 'pusher', '1.3.1'

# Rails logging in JSON format
gem 'lograge', '0.9.0'
gem 'logstash-event', '1.2.02'
# Other loggers in JSON
gem 'logstash-logger', '0.26.0'

# Clarifai API client
gem 'clarinet', '0.5.1'

group :deploy, :default do
  # Rackspace API
  gem 'fog-rackspace', '~> 0.1.1'

  # Secret management
  gem 'ejson', '~> 1.1.0'

  # Unicode Normalization Form (UNF)
  gem 'unf', '0.1.4'
end

group :deploy do
  # Deploy with Capistrano
  gem 'capistrano', '3.10.1'
  gem 'capistrano-bundler', '1.3.0'
  gem 'capistrano-rails', '1.3.1'

  # For deploy notifications
  gem 'hipchat', '1.6.0'
end

# Rails observer (removed from core in Rails 4.0)
gem 'rails-observers', '~> 0.1.5'

gem 'sassc-rails', '1.3.0'

# See https://github.com/sstephenson/execjs#readme for more supported runtimes
# Embed the V8 Javascript Interpreter into Ruby
gem 'therubyracer', '0.12.3', platforms: :ruby

# Javascript compactor
gem 'uglifier', '4.1.6'

# Precompile Handlebar templates
gem 'handlebars_assets', '0.23.2'

# Create assets also without digest
gem 'non-stupid-digest-assets', '1.0.9'

# Errors for after_commit exceptions (FIXME: remove in Rails 4.2)
gem 'after_commit_exception_notification', '0.2.0'

group :development, :dev_prod do

  # A thin and fast web server (needed for https in local env)
  # Generate a certificate and start with:
  # bundle exec thin start -p 3001 --ssl --ssl-key-file ~/.ssl/rails.key --ssl-cert-file ~/.ssl/rails.crt
  # gem 'thin', '1.7.0'

  # Hide asset request on development
  gem 'quiet_assets', '1.1.0'

  # Catch eager and N+1 queries
  gem 'bullet', '5.7.2'

  # Ruby process tracing
  gem 'rbtrace', '0.4.10', require: false

  # Memory profiling routines for Ruby 2.1+
  gem 'memory_profiler', '0.9.8', require: false

  # Automatic Ruby code style checking tool. Aims to enforce the community-driven Ruby Style Guide.
  gem 'rubocop', '0.52.1 ', require: false

  # Middleware that will make Rack-based apps CORS compatible
  gem 'rack-cors', '1.0.2', require: 'rack/cors'

  # Logs the source of execution of all queries to the Rails log
  gem 'active_record_query_trace', '1.5.4'

  # Displays a speed badge on every page
  # gem 'rack-mini-profiler'

  # Better Rails error pages in dev
  # gem 'better_errors'

  # -- CLI tools: -----------------------------------------------------------

  # Check for security vulnerabilities
  # gem 'brakeman', require: false

  # Spits out list of best practices you are not following
  # gem 'rails_best_practices', require: false
end

# Rails console needs test gems in Ruby 2.2
gem 'minitest', '5.11.3'
gem 'minitest-rails', '2.2.1'

group :test do
  # Integration test framework
  gem 'capybara', '2.17.0'

  # For debugging capybara tests
  gem 'launchy', '~> 2.4'

  # Clean it, clean it good
  gem 'database_cleaner', '1.6.2'

  # Freeze time
  gem 'timecop', '0.9.1'

  # Test after commit hooks
  gem 'test_after_commit', '1.1.0'

  # Mock web requests
  gem 'webmock', '1.24.6'

  # Update crack for newer safe_yaml
  gem 'crack', '0.4.3'

  # allows the parent process to control the behaviour of child processes using breakpoints
  gem 'fork_break', '~> 0.1.4'

  # Record HTTP interactions and replay them with tests
  gem 'vcr', '4.0.0'

  # Stub constants for the duration of a block in MiniTest.
  gem 'minitest-stub-const', '0.6'

  # Stripe webhook tests
  gem 'stripe_tester', '~> 0.5.0'

  # Use SQLite3 for some tests
  gem 'sqlite3', '1.3.13'

  # Lorem ipsum 2.0 for factories and content creation
  gem 'faker', '1.8.7'

end

group :development, :test do
  # Runtime developer console for debugging
  gem 'pry-rails', '0.3.6'
end

group :development, :test, :sandbox do
  # Easy-to-use fixtures
  gem 'factory_bot_rails', '4.8.2'
end

group :production, :staging, :sandbox do
  # Kill Unicorn workers
  gem 'unicorn-worker-killer', '0.4.4'

  # Use unicorn as the app server
  gem 'unicorn', '5.4.0'
end
